class PrefixNameSearch
  source_url: '<%= ::Rails.application.routes.url_helpers.name_search_things_path %>'

  constructor: ->

  search: (prefix, callback) ->
    matches = $.ajax
      url: @source_url
      dataType: 'json'
      data:
        query: prefix
    .success (data) =>
      callback(data)
    .error () =>
      callback([])


window.PrefixNameSearch = new PrefixNameSearch